<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<ScrollPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.MachineAddController"
            fitToWidth="true"
            prefWidth="700" prefHeight="750"
            style="-fx-background: linear-gradient(to bottom, #f0fce8, #d4f4bd);">

    <VBox alignment="CENTER" spacing="22"
          style="-fx-padding: 40;
                 -fx-background-color: #ffffff;
                 -fx-background-radius: 18;
                 -fx-effect: dropshadow(gaussian, rgba(110,180,100,0.25), 10, 0.2, 0, 4);
                 -fx-font-family: 'Segoe UI', 'Arial';
                 -fx-font-size: 15px;">

        <!-- 🌿 Titre -->
        <Label text="🌱 Nouvelle Machine Agricole"
               style="-fx-font-size: 26px;
                      -fx-font-weight: bold;
                      -fx-text-fill: #265c1c;" />

        <!-- Champs alignés (texte à gauche / champ à droite) -->
        <HBox spacing="20" alignment="CENTER_LEFT">
            <Label text="📝 Nom :" style="-fx-text-fill: #2f4f1f; -fx-font-weight: bold; -fx-pref-width: 160;" />
            <TextField fx:id="nameField" promptText="ex: Tracteur Massey"
                       style="-fx-pref-width: 340; -fx-background-radius: 8; -fx-border-color: #b7e4b6;" />
        </HBox>

        <HBox spacing="20" alignment="CENTER_LEFT">
            <Label text="🔧 Type :" style="-fx-text-fill: #2f4f1f; -fx-font-weight: bold; -fx-pref-width: 160;" />
            <ComboBox fx:id="typeComboBox" promptText="Tracteur, Moissonneuse..."
                      style="-fx-pref-width: 340; -fx-background-radius: 8; -fx-border-color: #b7e4b6;" />
        </HBox>

        <HBox spacing="20" alignment="CENTER_LEFT">
            <Label text="📦 État :" style="-fx-text-fill: #2f4f1f; -fx-font-weight: bold; -fx-pref-width: 160;" />
            <ComboBox fx:id="etatComboBox" promptText="Disponible, Louée, Maintenance"
                      style="-fx-pref-width: 340; -fx-background-radius: 8; -fx-border-color: #b7e4b6;" />
        </HBox>

        <HBox spacing="20" alignment="CENTER_LEFT">
            <Label text="📅 Entretien :" style="-fx-text-fill: #2f4f1f; -fx-font-weight: bold; -fx-pref-width: 160;" />
            <DatePicker fx:id="datePicker"
                        style="-fx-pref-width: 340; -fx-background-radius: 8; -fx-border-color: #b7e4b6;" />
        </HBox>

        <HBox spacing="20" alignment="CENTER_LEFT">
            <Label text="💰 Prix / jour :" style="-fx-text-fill: #2f4f1f; -fx-font-weight: bold; -fx-pref-width: 160;" />
            <TextField fx:id="priceField" promptText="ex: 120"
                       style="-fx-pref-width: 340; -fx-background-radius: 8; -fx-border-color: #b7e4b6;" />
        </HBox>

        <HBox spacing="20" alignment="CENTER_LEFT">
            <Label text="🏷️ Marque :" style="-fx-text-fill: #2f4f1f; -fx-font-weight: bold; -fx-pref-width: 160;" />
            <ComboBox fx:id="brandComboBox" promptText="Sélectionner une marque"
                      style="-fx-pref-width: 340; -fx-background-radius: 8; -fx-border-color: #b7e4b6;" />
        </HBox>

        <!-- Image Upload -->
        <HBox spacing="20" alignment="CENTER_LEFT">
            <Label text="📷 Image :" style="-fx-text-fill: #2f4f1f; -fx-font-weight: bold; -fx-pref-width: 160;" />
            <Button fx:id="uploadButton" text="Choisir une image" onAction="#handleImageUpload"
                    style="-fx-background-color: #3498db;
                           -fx-text-fill: white;
                           -fx-background-radius: 6;
                           -fx-cursor: hand;" />
        </HBox>

        <Label fx:id="imageLabel" text="Aucune image sélectionnée"
               style="-fx-text-fill: #6c7a6f; -fx-font-size: 12px;" />

        <ImageView fx:id="imagePreview" fitHeight="190" fitWidth="300" preserveRatio="true"
                   style="-fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 10, 0.3, 0, 2);" />

        <!-- Boutons -->
        <HBox spacing="30" alignment="CENTER">
            <Button fx:id="addButton" text="✅ Ajouter"
                    onAction="#handleAddMachine"
                    style="-fx-background-color: #27ae60;
                           -fx-text-fill: white;
                           -fx-font-size: 15px;
                           -fx-font-weight: bold;
                           -fx-padding: 10 28;
                           -fx-background-radius: 10;" />

            <Button text="🔙 Retour"
                    onAction="#handleBack"
                    style="-fx-background-color: #7f8c8d;
                           -fx-text-fill: white;
                           -fx-font-weight: bold;
                           -fx-padding: 10 28;
                           -fx-background-radius: 10;" />
        </HBox>
    </VBox>
</ScrollPane>
